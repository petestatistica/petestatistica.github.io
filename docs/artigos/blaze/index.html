<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="pt-br" xml:lang="pt-br"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Joel Machado Junior">
<meta name="description" content="Com uma grande quantidade de apostadores e polêmicas, a Blaze precisa manipular seus jogos para ter lucro?">

<title>PET Estatística - A Blaze não manipula</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../logo.jpg" rel="icon" type="image/jpeg">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Nenhum resultado",
    "search-matching-documents-text": "documentos correspondentes",
    "search-copy-link-title": "Copiar link para a busca",
    "search-hide-matches-text": "Esconder correspondências adicionais",
    "search-more-match-text": "mais correspondência neste documento",
    "search-more-matches-text": "mais correspondências neste documento",
    "search-clear-button-title": "Limpar",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar",
    "search-label": "Procurar"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">PET Estatística</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Procurar"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Alternar de navegação" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../artigos.html"> 
<span class="menu-text">Artigos</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../dashboard.html"> 
<span class="menu-text">Dashboard</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../atividades.html"> 
<span class="menu-text">Atividades</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../programanas.html"> 
<span class="menu-text">Programanas</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../curso.html"> 
<span class="menu-text">O Curso</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../sobre-pet.html"> 
<span class="menu-text">Sobre o PET</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../integrantes/index.html"> 
<span class="menu-text">Integrantes</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/petestatistica"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.instagram.com/petestatisticaufu"> <i class="bi bi-instagram" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">A Blaze não manipula</h1>
                  <div>
        <div class="description">
          Com uma grande quantidade de apostadores e polêmicas, a Blaze precisa manipular seus jogos para ter lucro?
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">probabilidade</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Autor</div>
      <div class="quarto-title-meta-contents">
               <p>Joel Machado Junior </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Data de Publicação</div>
      <div class="quarto-title-meta-contents">
        <p class="date">14/02/2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Nesta página</h2>
   
  <ul>
  <li><a href="#o-que-é-a-blaze" id="toc-o-que-é-a-blaze" class="nav-link active" data-scroll-target="#o-que-é-a-blaze">O que é a Blaze?</a></li>
  <li><a href="#o-que-é-o-jogo-double" id="toc-o-que-é-o-jogo-double" class="nav-link" data-scroll-target="#o-que-é-o-jogo-double">O que é o jogo Double?</a></li>
  <li><a href="#o-jogo-é-manipulado" id="toc-o-jogo-é-manipulado" class="nav-link" data-scroll-target="#o-jogo-é-manipulado">O jogo é manipulado?</a></li>
  <li><a href="#então-o-jogo-é-honesto" id="toc-então-o-jogo-é-honesto" class="nav-link" data-scroll-target="#então-o-jogo-é-honesto">Então o jogo é honesto?</a></li>
  <li><a href="#o-que-é-esperança" id="toc-o-que-é-esperança" class="nav-link" data-scroll-target="#o-que-é-esperança">O que é esperança?</a></li>
  <li><a href="#vamos-simular-na-linguagem-r" id="toc-vamos-simular-na-linguagem-r" class="nav-link" data-scroll-target="#vamos-simular-na-linguagem-r">Vamos simular na linguagem R</a></li>
  <li><a href="#conclusões" id="toc-conclusões" class="nav-link" data-scroll-target="#conclusões">Conclusões</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p><br> O site de apostas e cassino online Blaze não manipula seus jogos. Pelo menos, não o jogo Double. Essa é a tese que tentarei defender nesse texto. Isso significa que a empresa é honesta? Não. Nesse sentido não posso supor nada. De qualquer forma, sendo honesta ou não, manipulando ou não, pretendo deixar claro que apostar em cassino — mais especificamente no jogo Double — definitivamente não é uma fonte de renda extra.</p>
<section id="o-que-é-a-blaze" class="level3">
<h3 class="anchored" data-anchor-id="o-que-é-a-blaze">O que é a Blaze?</h3>
<p>A Blaze é uma plataforma de apostas que ficou muito conhecida no Brasil. Com um investimento massivo em marketing, que vai do patrocínio master do Santos Futebol Clube à publicidade nas redes de grandes influenciadores digitais como Neymar e Felipe Neto, a empresa conquistou uma imensa quantidade de apostadores e polêmicas. Apesar de sua atividade ser proibida no Brasil, a Blaze atua ilegalmente por meio da internet, com sede em Curaçao, uma pequena ilha no Caribe.</p>
</section>
<section id="o-que-é-o-jogo-double" class="level3">
<h3 class="anchored" data-anchor-id="o-que-é-o-jogo-double">O que é o jogo Double?</h3>
<p>O jogo funciona como uma espécie de roleta, na qual existem sete números vermelhos (de 1 a 7), sete números pretos (de 8 a 14) e um número branco (o zero). Para jogar, você deve apostar uma quantia x na cor que você acredita que será sorteada. Caso erre, você perde o valor apostado. Caso você aposte no preto ou no vermelho e acerte, você recebe 2x, duas vezes o valor que apostou. Caso você tenha acertado no branco, você recebe 14x.</p>
<p><img src="roleta-blaze.png" class="img-fluid"></p>
<p>Vamos usar um exemplo para que fique mais claro. Você, sensitivo, decide apostar 10 reais no vermelho, porque seu signo é Gêmeos, e geminianos são sanguíneos. Deu vermelho, é claro. Você recebe 20 reais — os 10 reais que você apostou mais 10 reais de lucro. Caso tivesse saído preto ou branco, você perderia a sua aposta. Acontece. Na próxima rodada é só acertar a cor e então você recuperará o que foi perdido e estará pronto para começar a lucrar. Nada mal.</p>
</section>
<section id="o-jogo-é-manipulado" class="level3">
<h3 class="anchored" data-anchor-id="o-jogo-é-manipulado">O jogo é manipulado?</h3>
<p>A resposta é simples: não sabemos. O que podemos fazer é analisar os dados fornecidos pelo site. Lá existe um histórico com mais de 800 páginas contendo 100 resultados cada. São mais de 80.000 resultados com a data e o horário em que foram sorteados. Há também um gráfico que mostra a proporção das últimas 3.000 rodadas, como na imagem abaixo. Pode-se argumentar que esses dados são falsos, mas isso é pouco provável.</p>
<p><img src="historico-blaze.png" class="img-fluid"></p>
</section>
<section id="então-o-jogo-é-honesto" class="level3">
<h3 class="anchored" data-anchor-id="então-o-jogo-é-honesto">Então o jogo é honesto?</h3>
<p>Se honesto, neste caso, significa que o jogo é realmente aleatório, ou seja, não há manipulação, é o que vamos verificar. Até o momento da produção deste texto, toda a explicação sobre o jogo é a que está descrita acima. Diante disso, vamos supor que está implícito que cada um dos quinze números (de 0 a 14) tem probabilidade igual de ser sorteado. Como são sete vermelhos, sete pretos e um branco, as probabilidades para cada uma das cores são:</p>
<p>Vermelho: 7/15 (46,66% aproximadamente) <br> Preto: 7/15 (46,66% aproximadamente) <br> Branco: 1/15 (6,66% aproximadamente) <br></p>
<p>Isso é o que esperamos para um jogo realmente aleatório, e pelo gráfico podemos notar que a proporção está bem próxima disso. Então, nesse sentido, ponto a favor da honestidade.</p>
<p>Além disso, caso o jogo não fosse aleatório, no sentido de existir algum algoritmo para fraudar os resultados, o padrão do jogo poderia ser descoberto por meio de uma análise de dados. Poderíamos coletar os resultados do jogo por meio de Web Scraping e utilizar ferramentas como o R para analisá-los.</p>
<p>Não vamos discutir aqui como um computador gera resultados aleatórios. Esse assunto ficará para um texto futuro. Não podemos negar também que um ou outro resultado específico possa ser adulterado. No entanto, os pontos levantados até aqui nos permitem dizer que é muito improvável que o Double seja manipulado.</p>
<p>Por outro lado, se honesto significa que o jogador tem chance de se dar bem no jogo, então não. O jogo não é honesto. E basta que ele seja aleatório. Para provar isso, vamos usar o conceito de esperança matemática, ou valor esperado.</p>
</section>
<section id="o-que-é-esperança" class="level3">
<h3 class="anchored" data-anchor-id="o-que-é-esperança">O que é esperança?</h3>
<p>Esperança é o valor médio que se espera que uma variável aleatória assuma quando o experimento aleatório é repetido um número significativamente grande de vezes. A variável aleatória tem esse nome porque cada um dos valores que ela pode assumir está associado a uma probabilidade.</p>
<p>Exemplo: Vamos chamar de D a variável aleatória que representa a quantidade em dinheiro de uma aposta feita nesse jogo. Vamos supor que o jogador irá apostar 10 reais na cor vermelha. A variável D pode assumir os valores 10 (lucro de 10 reais), caso o resultado do experimento aleatório seja a cor vermelha; ou -10, caso o resultado seja ou preto ou branco.</p>
<p>A fórmula da esperança é o somatório de cada valor da variável aleatória multiplicado pela sua probabilidade. Assim, se a variável <span class="math inline">\(D\)</span> assume os valores <span class="math inline">\(d_1\)</span>, <span class="math inline">\(d_2\)</span>,…,<span class="math inline">\(d_n\)</span> e estes valores acontecem com probabilidades <span class="math inline">\(p(d_1) = P(D = d_1)\)</span>, <span class="math inline">\(p(d_2) = P(D = d_2)\)</span>, …, <span class="math inline">\(p(d_n) = P(D = d_n)\)</span>, então a esperança de <span class="math inline">\(D\)</span> será:</p>
<p><span class="math display">\[
E[D] = \sum_{i=1}^n d_ip(d_i)
\]</span></p>
<p>Usando as probabilidades e os valores possíveis da variável <span class="math inline">\(D\)</span>, calculamos a sua esperança:</p>
<p><span class="math display">\[E[D] = 10 \times (7/15) + (-10) x (7/15) + (-10) \times (1/15) = -10/15.\]</span></p>
<p>Logo, <span class="math inline">\(E[D]\)</span> é aproximadamente -0,67. Ou seja, para cada aposta de 10 reais na cor vermelha (ou na preta) espera-se que você perca, em média, 67 centavos. “E se eu jogar na cor branca?”, você pode estar pensando. Façamos as contas. A variável <span class="math inline">\(D\)</span> agora pode assumir outros valores: -10, se sair vermelho, -10 se sair preto e 130 se sair branco (140 menos 10 da aposta):</p>
<p><span class="math display">\[E[D] = (-10) \times (7/15) + (-10) \times (7/15) + 130 \times (1/15) = -10/15\]</span></p>
<p><span class="math inline">\(E[D]\)</span> é aproximadamente -0,67; o mesmo resultado.</p>
</section>
<section id="vamos-simular-na-linguagem-r" class="level3">
<h3 class="anchored" data-anchor-id="vamos-simular-na-linguagem-r">Vamos simular na linguagem R</h3>
<p>Primeiro vamos criar um vetor que representa 7 vermelhos, 7 pretos e 1 branco. Depois, vamos sortear um dos seus valores 3.000 vezes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cria a roleta do jogo Double</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>double <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">'v'</span>, <span class="dv">7</span>), <span class="fu">rep</span>(<span class="st">'p'</span>, <span class="dv">7</span>), <span class="st">'b'</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>double</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Sorteia 3.000 vezes</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>qtd_sorteio <span class="ot">&lt;-</span> <span class="dv">3000</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>sorteio <span class="ot">&lt;-</span> <span class="fu">sample</span>(double, qtd_sorteio, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>sorteio</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcula a proporção para cada cor</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(sorteio <span class="sc">==</span> <span class="st">'v'</span>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(sorteio <span class="sc">==</span> <span class="st">'p'</span>)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(sorteio <span class="sc">==</span> <span class="st">'b'</span>)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>cores <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'vermelho'</span>, <span class="st">'preto'</span>, <span class="st">'branco'</span>)</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>proporcao <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">mean</span>(sorteio <span class="sc">==</span> <span class="st">'v'</span>), <span class="fu">mean</span>(sorteio <span class="sc">==</span> <span class="st">'p'</span>), <span class="fu">mean</span>(sorteio <span class="sc">==</span> <span class="st">'b'</span>))</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Cria uma tabela com as proporções</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>tabela <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(cores, proporcao)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Vamos criar um gráfico para as proporções obtidas nesta simulação:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Carrega o pacote ggplot.</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Gera o gráfico de barras para a proporção de cada cor</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(tabela, <span class="fu">aes</span>(<span class="at">x=</span>cores, <span class="at">y=</span>proporcao, <span class="at">fill=</span>cores)) <span class="sc">+</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#FFFFFF"</span>, <span class="st">"#000000"</span>, <span class="st">"#FF0000"</span>), <span class="at">guide =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label=</span><span class="fu">sprintf</span>(<span class="st">"%0.4f"</span>, proporcao)), <span class="at">size =</span> <span class="dv">5</span>, </span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">colour =</span> <span class="fu">c</span>(<span class="st">"#000000"</span>, <span class="st">"#000000"</span>, <span class="st">"#000000"</span>), <span class="at">nudge_y =</span> <span class="fl">0.05</span>) <span class="sc">+</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="cn">NULL</span>, <span class="at">title =</span> <span class="st">"Proporção das cores sorteadas"</span>, <span class="at">colours =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">panel.background=</span><span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"#DCDCDC"</span>))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="proporcao_cores.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>Podemos notar que a proporção simulada é muito próxima da proporção calculada anteriormente e da proporção da Blaze. Agora vamos simular os resultados para três jogadores que apostam 10 reais, cada um em uma mesma cor, em todas as rodadas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>valor_aposta <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>apostas_vermelho <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">'v'</span>, qtd_sorteio))</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>apostas_preto <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">'p'</span>, qtd_sorteio))</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>apostas_branco <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">'b'</span>, qtd_sorteio))</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>resultados_vermelho <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>resultados_preto <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>resultados_branco <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>montante_vermelho <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>montante_preto <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>montante_branco <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>historico_vermelho <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>historico_preto <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>historico_branco <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(sorteio)) {</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(sorteio[i] <span class="sc">==</span> <span class="st">'v'</span>) {</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>    resultados_vermelho[i] <span class="ot">&lt;-</span> <span class="sc">+</span>(valor_aposta)</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>    resultados_preto[i] <span class="ot">&lt;-</span> <span class="sc">-</span>(valor_aposta)</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>    resultados_branco[i] <span class="ot">&lt;-</span> <span class="sc">-</span>(valor_aposta)</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>    montante_vermelho <span class="ot">&lt;-</span> montante_vermelho <span class="sc">+</span> (valor_aposta)</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>    montante_preto <span class="ot">&lt;-</span> montante_preto <span class="sc">-</span> (valor_aposta)</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>    montante_branco <span class="ot">&lt;-</span> montante_branco <span class="sc">-</span> (valor_aposta)</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>  } </span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span> <span class="cf">if</span> (sorteio[i] <span class="sc">==</span> <span class="st">'p'</span>) {</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>    resultados_vermelho[i] <span class="ot">&lt;-</span> <span class="sc">-</span>(valor_aposta)</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>    resultados_preto[i] <span class="ot">&lt;-</span> <span class="sc">+</span>(valor_aposta)</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>    resultados_branco[i] <span class="ot">&lt;-</span> <span class="sc">-</span>(valor_aposta)</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>    montante_vermelho <span class="ot">&lt;-</span> montante_vermelho <span class="sc">-</span> (valor_aposta)</span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>    montante_preto <span class="ot">&lt;-</span> montante_preto <span class="sc">+</span> (valor_aposta)</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>    montante_branco <span class="ot">&lt;-</span> montante_branco <span class="sc">-</span> (valor_aposta)</span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span> <span class="cf">if</span> (sorteio[i] <span class="sc">==</span> <span class="st">'b'</span>) {</span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>    resultados_vermelho[i] <span class="ot">&lt;-</span> <span class="sc">-</span>(valor_aposta)</span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>    resultados_preto[i] <span class="ot">&lt;-</span> <span class="sc">-</span>(valor_aposta)</span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>    resultados_branco[i] <span class="ot">&lt;-</span> <span class="sc">+</span>(<span class="dv">13</span> <span class="sc">*</span> valor_aposta)</span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>    montante_vermelho <span class="ot">&lt;-</span> montante_vermelho <span class="sc">-</span> (valor_aposta)</span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>    montante_preto <span class="ot">&lt;-</span> montante_preto <span class="sc">-</span> (valor_aposta)</span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a>    montante_branco <span class="ot">&lt;-</span> montante_branco <span class="sc">+</span> (<span class="dv">13</span> <span class="sc">*</span> valor_aposta)</span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a>  historico_vermelho[i] <span class="ot">&lt;-</span> montante_vermelho</span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a>  historico_preto[i] <span class="ot">&lt;-</span> montante_preto</span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a>  historico_branco[i] <span class="ot">&lt;-</span> montante_branco</span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a>rodada <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1</span><span class="sc">:</span>qtd_sorteio)</span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a>cria_dataframe <span class="ot">&lt;-</span> <span class="cf">function</span>(rod, hist, cor_nome) {</span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a>  rodada <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1</span><span class="sc">:</span>rod)</span>
<span id="cb3-56"><a href="#cb3-56" aria-hidden="true" tabindex="-1"></a>  historico <span class="ot">&lt;-</span> hist</span>
<span id="cb3-57"><a href="#cb3-57" aria-hidden="true" tabindex="-1"></a>  cor <span class="ot">&lt;-</span> cor_nome</span>
<span id="cb3-58"><a href="#cb3-58" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(rodada, historico, cor)</span>
<span id="cb3-59"><a href="#cb3-59" aria-hidden="true" tabindex="-1"></a>  df</span>
<span id="cb3-60"><a href="#cb3-60" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-61"><a href="#cb3-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-62"><a href="#cb3-62" aria-hidden="true" tabindex="-1"></a>df_vermelho <span class="ot">&lt;-</span> <span class="fu">cria_dataframe</span>(qtd_sorteio, historico_vermelho, <span class="st">'vermelho'</span>)</span>
<span id="cb3-63"><a href="#cb3-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-64"><a href="#cb3-64" aria-hidden="true" tabindex="-1"></a>df_preto <span class="ot">&lt;-</span> <span class="fu">cria_dataframe</span>(qtd_sorteio, historico_preto, <span class="st">'preto'</span>)</span>
<span id="cb3-65"><a href="#cb3-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-66"><a href="#cb3-66" aria-hidden="true" tabindex="-1"></a>df_branco <span class="ot">&lt;-</span>  <span class="fu">cria_dataframe</span>(qtd_sorteio, historico_branco, <span class="st">'branco'</span>)</span>
<span id="cb3-67"><a href="#cb3-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-68"><a href="#cb3-68" aria-hidden="true" tabindex="-1"></a>df_historico <span class="ot">&lt;-</span> <span class="fu">rbind</span>(df_vermelho, df_preto, df_branco)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Vamos agora criar um gráfico para analisar o saldo dos jogadores após as 3000 rodadas. A linha azul representa 0 reais. Acima dela, o jogador tem lucro; abaixo, prejuízo.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_historico, <span class="fu">aes</span>(<span class="at">x=</span>rodada, <span class="at">y=</span>historico, <span class="at">color=</span>cor)) <span class="sc">+</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">linewidth =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#FFFFFF"</span>, <span class="st">"#000000"</span>, <span class="st">"#FF0000"</span>), <span class="at">guide=</span><span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="fu">max</span>(rodada)<span class="sc">+</span><span class="dv">40</span>)) <span class="sc">+</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> <span class="fu">subset</span>(df_historico, rodada <span class="sc">==</span> <span class="dv">3000</span>), <span class="fu">aes</span>(<span class="at">label=</span>historico, <span class="at">fontface=</span><span class="st">"bold"</span>), </span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">nudge_x =</span> <span class="dv">85</span>, <span class="at">size =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">colour =</span> <span class="st">"blue"</span>, <span class="at">linewidth =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="cn">NULL</span>, <span class="at">y=</span><span class="cn">NULL</span>, <span class="at">title=</span><span class="st">"Saldo após cada rodada"</span>, <span class="at">subtitle=</span><span class="st">"Aposta de 10 reais"</span>) <span class="sc">+</span>  </span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">panel.background=</span><span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"gray"</span>))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><img src="saldo_3000.png" class="img-fluid"> Em todos os três resultados, notamos que o resultado é prejuízo. Em alguns momentos o jogador que apostou no branco teve lucro, mas por poucas rodadas e depois de sofrer uma perda de mais de 2500 reais. Essa alta variabilidade da aposta na cor branca se deve ao conceito de variância, assunto que abordaremos em um artigo futuro.</p>
<p>Por outro lado, para as três cores, a esperança — já calculada acima — nos mostra que em média espera-se um prejuízo de 0,67 para cada 10 reais de aposta. Portanto, em 3000 rodadas, o esperado é que o jogador perca 0,67 x 3000 = 2000 reais, resultado relativamente próximo do que foi simulado.</p>
</section>
<section id="conclusões" class="level3">
<h3 class="anchored" data-anchor-id="conclusões">Conclusões</h3>
<p>É improvável que o jogo Double seja manipulado. No entanto, como provado pelos cálculos e pelas simulações, não vale a pena jogar. Sim, você pode ganhar duas, três, dez ou até cem vezes, o que pode gerar uma sensação positiva de que o jogo vale a pena. Mas só poderemos dizer que deu certo, ou deu lucro, quando você parar de jogar. Porém, caso esteja ganhando, por que você pararia de jogar? E, no longo prazo, o esperado é que você perca. Não tem como dar certo.</p>
<p>De qualquer forma, acredito que está provado que esse tipo de aposta <b>não é, em nenhuma hipótese, uma fonte de renda extra</b>. Agora, se você está pensando em colocar um dinheiro apenas para brincar, recomendamos que não faça isso. Os jogos de azar têm um caráter viciante e já são considerados um problema de saúde pública. Não aposte sua saúde financeira e mental.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiada");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiada");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Página criada com 💜 e <a href="https://quarto.org/">Quarto</a> pelo PET Estatística.</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>